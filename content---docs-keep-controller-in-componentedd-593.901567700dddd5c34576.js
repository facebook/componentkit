(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{83:function(n,e,t){"use strict";t.r(e),t.d(e,"frontMatter",function(){return l}),t.d(e,"rightToc",function(){return a}),t.d(e,"default",function(){return p});t(0);var o=t(125);function r(){return(r=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n}).apply(this,arguments)}function i(n,e){if(null==n)return{};var t,o,r=function(n,e){if(null==n)return{};var t,o,r={},i=Object.keys(n);for(o=0;o<i.length;o++)t=i[o],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)t=i[o],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var l={title:"Keep Controller in Component"},a=[],c={rightToc:a},s="wrapper";function p(n){var e=n.components,t=i(n,["components"]);return Object(o.b)(s,r({},c,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Avoid creating a separate file for component controllers."),Object(o.b)("pre",null,Object(o.b)("code",r({parentName:"pre"},{className:"language-objectivec"}),'@implementation BoldToggleComponent\n\n+ (instancetype)newWithString:(NSString *)string\n{\n  CKComponentScope scope(self);\n  UIFont *const font = ([scope.state() boolValue] ?\n                        [UIFont boldSystemFontOfSize:12.0] :\n                        [UIFont systemFontOfSize:12.0]);\n  return [super newWithComponent:\n          [CKLabelComponent\n           newWithLabelAttributes:{\n             .string = string,\n             .font = font,\n           }\n           viewAttributes:{}\n           size:{}]];\n}\n\n+ (id)initialState\n{\n  return @NO;\n}\n\n@end\n\n@implementation BoldToggleComponentController\n\n- (void)didMount\n{\n  [[NSNotificationCenter defaultCenter] addObserver:self\n                                           selector:@selector(updateState:)\n                                               name:@"toggleBold"\n                                             object:nil];\n}\n\n- (void)willUnmount\n{\n  [[NSNotificationCenter defaultCenter] removeObserver:self\n                                                  name:@"toggleBold"\n                                                object:nil];\n}\n\n- (void)updateState:(NSNotification *)notification\n{\n  [self.component updateState:^(id oldState){\n    return @(![oldState boolValue]);\n  } mode:CKUpdateModeAsynchronous];\n}\n\n@end\n')),Object(o.b)("p",null,"Imagine that the component and controller were in separate in the above\nexample.  Then, it wouldn't be obvious why the state is necessary just by\nlooking at the component file, since there are no calls to ",Object(o.b)("inlineCode",{parentName:"p"},"updateState")," in the\ncomponent file."),Object(o.b)("p",null,"It may be tempting to split the component controller into its own file in order\nto make the file less than 300 lines, but we think it's worse to have the\ncomponent controller in its own file."))}p.isMDXComponent=!0}}]);